<!DOCTYPE html>
<html>
<head>
	<title>LISP</title>
</head>
<body>
<input type="text" id="input" style="width: 300px;">
<script type="text/javascript" src="stdlib.js"></script>
<script type="text/javascript" src="closure.js"></script>
<script type="text/javascript" src="environment.js"></script>
<script type="text/javascript" src="types.js"></script>
<script type="text/javascript" src="parser.js"></script>
<script type="text/javascript" src="evaluator.js"></script>
<script type="text/javascript">

	var env = new diy.Environment();
	var parsed = diy.Parser.parse_multiple(diy.stdlib);
	parsed.map(function(ast) { return diy.Evaluator.evaluate(ast, env); });

	document.querySelector('#input').addEventListener('keypress', function(event) {
		if (event.keyCode === 13) {
			evaluate(event.target.value);
		}
	});

	function evaluate(str) {
		console.log(diy.Parser.unparse(diy.Evaluator.evaluate(diy.Parser.parse(str), env)));
	}
</script>
</body>
</html>